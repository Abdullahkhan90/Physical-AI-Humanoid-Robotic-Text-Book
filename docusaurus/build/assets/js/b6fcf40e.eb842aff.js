"use strict";(globalThis.webpackChunkai_textbook_docusaurus=globalThis.webpackChunkai_textbook_docusaurus||[]).push([[93],{4780:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var o=i(4848),s=i(8453);const r={sidebar_position:4,title:"URDF for Humanoid Robots"},t="URDF (Unified Robot Description Format) for Humanoids",a={id:"module-1-ros2/urdf-humanoids",title:"URDF for Humanoid Robots",description:"URDF (Unified Robot Description Format) is an XML format for representing a robot model. URDF is used extensively in ROS to describe robots in terms of their joints, links, visual and collision properties, and more. When designing humanoid robots, URDF plays a crucial role in specifying the physical structure and kinematic properties.",source:"@site/docs/module-1-ros2/urdf-humanoids.md",sourceDirName:"module-1-ros2",slug:"/module-1-ros2/urdf-humanoids",permalink:"/ai-textbook-physical-ai-humanoid/docs/module-1-ros2/urdf-humanoids",draft:!1,unlisted:!1,editUrl:"https://github.com/AI-Textbook-Project/ai-textbook-physical-ai-humanoid/edit/main/docs/module-1-ros2/urdf-humanoids.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"URDF for Humanoid Robots"},sidebar:"tutorialSidebar",previous:{title:"Integrating Python Agents with ROS Controllers",permalink:"/ai-textbook-physical-ai-humanoid/docs/module-1-ros2/integrating-python-agents"},next:{title:"Summary and Exercises",permalink:"/ai-textbook-physical-ai-humanoid/docs/module-1-ros2/summary-exercises"}},l={},d=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"URDF Structure for Humanoid Robots",id:"urdf-structure-for-humanoid-robots",level:2},{value:"Basic URDF Elements",id:"basic-urdf-elements",level:3},{value:"Designing a Humanoid Robot in URDF",id:"designing-a-humanoid-robot-in-urdf",level:2},{value:"Basic Structure",id:"basic-structure",level:3},{value:"Example URDF for a Simple Humanoid",id:"example-urdf-for-a-simple-humanoid",level:3},{value:"Advanced URDF Features for Humanoids",id:"advanced-urdf-features-for-humanoids",level:2},{value:"Transmission Elements",id:"transmission-elements",level:3},{value:"Gazebo-Specific Elements",id:"gazebo-specific-elements",level:3},{value:"URDF Tools and Verification",id:"urdf-tools-and-verification",level:2},{value:"Using check_urdf",id:"using-check_urdf",level:3},{value:"Using urdf_to_graphiz",id:"using-urdf_to_graphiz",level:3},{value:"Best Practices for Humanoid URDF",id:"best-practices-for-humanoid-urdf",level:2},{value:"Creating URDF with Python",id:"creating-urdf-with-python",level:2},{value:"Integration with ROS",id:"integration-with-ros",level:2},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"urdf-unified-robot-description-format-for-humanoids",children:"URDF (Unified Robot Description Format) for Humanoids"}),"\n",(0,o.jsx)(e.p,{children:"URDF (Unified Robot Description Format) is an XML format for representing a robot model. URDF is used extensively in ROS to describe robots in terms of their joints, links, visual and collision properties, and more. When designing humanoid robots, URDF plays a crucial role in specifying the physical structure and kinematic properties."}),"\n",(0,o.jsx)(e.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,o.jsx)(e.p,{children:"URDF stands for Unified Robot Description Format. It is an XML file format used to describe robots in ROS. A URDF file contains information about:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Robot's physical structure (links)"}),"\n",(0,o.jsx)(e.li,{children:"How parts are connected (joints)"}),"\n",(0,o.jsx)(e.li,{children:"Visual appearance (collision and visual properties)"}),"\n",(0,o.jsx)(e.li,{children:"Kinematic properties (inertial properties)"}),"\n",(0,o.jsx)(e.li,{children:"Sensors attached to the robot"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"urdf-structure-for-humanoid-robots",children:"URDF Structure for Humanoid Robots"}),"\n",(0,o.jsx)(e.p,{children:"A humanoid robot URDF typically contains multiple limbs (arms, legs), a torso, and a head. Each limb is modeled as a series of links connected by joints."}),"\n",(0,o.jsx)(e.h3,{id:"basic-urdf-elements",children:"Basic URDF Elements"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="humanoid_robot">\n  \x3c!-- Links define the physical parts of the robot --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1"/>\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joints define how links connect --\x3e\n  <joint name="joint1" type="revolute">\n    <parent link="base_link"/>\n    <child link="link1"/>\n    <origin xyz="0.1 0 0" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\n  </joint>\n\n  <link name="link1">\n    \x3c!-- Link definition similar to base_link --\x3e\n  </link>\n</robot>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"designing-a-humanoid-robot-in-urdf",children:"Designing a Humanoid Robot in URDF"}),"\n",(0,o.jsx)(e.h3,{id:"basic-structure",children:"Basic Structure"}),"\n",(0,o.jsx)(e.p,{children:"A humanoid robot typically includes:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Torso / Pelvis (base link)"}),"\n",(0,o.jsx)(e.li,{children:"Two legs (hip, knee, ankle, foot)"}),"\n",(0,o.jsx)(e.li,{children:"Two arms (shoulder, elbow, wrist, hand)"}),"\n",(0,o.jsx)(e.li,{children:"Neck and head"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"example-urdf-for-a-simple-humanoid",children:"Example URDF for a Simple Humanoid"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n  \x3c!-- Torso / Base Link --\x3e\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.2 0.3 0.4"/>  \x3c!-- Width x Depth x Height --\x3e\n      </geometry>\n      <origin xyz="0 0 0.2"/>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.2 0.3 0.4"/>\n      </geometry>\n      <origin xyz="0 0 0.2"/>\n    </collision>\n    <inertial>\n      <mass value="5"/>\n      <inertia ixx="0.3" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.1"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n      <material name="skin">\n        <color rgba="0.8 0.6 0.4 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1"/>\n      <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.02"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint connecting torso and head --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.4"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-0.5" upper="0.5" effort="1" velocity="2"/>\n  </joint>\n\n  \x3c!-- Left Arm --\x3e\n  <link name="left_shoulder">\n    <visual>\n      <geometry>\n        <box size="0.1 0.15 0.15"/>\n      </geometry>\n      <material name="gray"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.1 0.15 0.15"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint connecting torso and shoulder --\x3e\n  <joint name="left_shoulder_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="left_shoulder"/>\n    <origin xyz="0.15 0.1 0.2"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="5" velocity="3"/>\n  </joint>\n\n  \x3c!-- Right arm, legs, and other body parts would follow similar pattern --\x3e\n</robot>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"advanced-urdf-features-for-humanoids",children:"Advanced URDF Features for Humanoids"}),"\n",(0,o.jsx)(e.h3,{id:"transmission-elements",children:"Transmission Elements"}),"\n",(0,o.jsx)(e.p,{children:"To connect the robot to a control system, transmission elements are added:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<transmission name="left_shoulder_trans">\n  <type>transmission_interface/SimpleTransmission</type>\n  <joint name="left_shoulder_joint">\n    <hardwareInterface>PositionJointInterface</hardwareInterface>\n  </joint>\n  <actuator name="left_shoulder_motor">\n    <hardwareInterface>PositionJointInterface</hardwareInterface>\n    <mechanicalReduction>1</mechanicalReduction>\n  </actuator>\n</transmission>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"gazebo-specific-elements",children:"Gazebo-Specific Elements"}),"\n",(0,o.jsx)(e.p,{children:"For simulation in Gazebo, additional elements are often needed:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<gazebo reference="torso">\n  <material>Gazebo/Gray</material>\n  <mu1>0.2</mu1>\n  <mu2>0.2</mu2>\n</gazebo>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"urdf-tools-and-verification",children:"URDF Tools and Verification"}),"\n",(0,o.jsx)(e.h3,{id:"using-check_urdf",children:"Using check_urdf"}),"\n",(0,o.jsx)(e.p,{children:"After creating a URDF file, verify its validity:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"check_urdf path/to/robot.urdf\n"})}),"\n",(0,o.jsx)(e.h3,{id:"using-urdf_to_graphiz",children:"Using urdf_to_graphiz"}),"\n",(0,o.jsx)(e.p,{children:"Visualize the robot structure:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"urdf_to_graphviz path/to/robot.urdf\n"})}),"\n",(0,o.jsx)(e.h2,{id:"best-practices-for-humanoid-urdf",children:"Best Practices for Humanoid URDF"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Use proper units"}),": All dimensions in meters, mass in kilograms"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Realistic inertial properties"}),": Accurate mass and inertia values improve simulation"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Joint limits"}),": Define appropriate limits for each joint"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Collision vs. Visual"}),": Use simple shapes for collision and detailed for visuals"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Naming convention"}),": Use consistent naming across all links and joints"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Kinematic chain"}),": Ensure proper parent-child relationships"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Mounting points"}),": Define attachment points for accessories"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"creating-urdf-with-python",children:"Creating URDF with Python"}),"\n",(0,o.jsx)(e.p,{children:"While URDF is an XML format, it can be programmatically generated using Python:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:'import xml.etree.ElementTree as ET\n\ndef create_simple_link(name, mass, geometry_type="box", size=[0.1, 0.1, 0.1]):\n    link = ET.Element("link", name=name)\n    \n    # Visual element\n    visual = ET.SubElement(link, "visual")\n    vis_geom = ET.SubElement(visual, "geometry")\n    ET.SubElement(vis_geom, geometry_type, size=" ".join(map(str, size)))\n    \n    # Collision element\n    collision = ET.SubElement(link, "collision")\n    coll_geom = ET.SubElement(collision, "geometry")\n    ET.SubElement(coll_geom, geometry_type, size=" ".join(map(str, size)))\n    \n    # Inertial element\n    inertial = ET.SubElement(link, "inertial")\n    ET.SubElement(inertial, "mass", value=str(mass))\n    ET.SubElement(inertial, "inertia", \n                  ixx="0.01", ixy="0", ixz="0", \n                  iyy="0.01", iyz="0", izz="0.01")\n    \n    return link\n\n# Example usage\nrobot = ET.Element("robot", name="humanoid")\ntorso = create_simple_link("torso", 5.0, "box", [0.2, 0.3, 0.4])\nrobot.append(torso)\n'})}),"\n",(0,o.jsx)(e.h2,{id:"integration-with-ros",children:"Integration with ROS"}),"\n",(0,o.jsx)(e.p,{children:"Once the URDF is created, it can be used in ROS nodes:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom sensor_msgs.msg import JointState\nfrom tf2_ros import TransformBroadcaster\nimport math\n\nclass URDFRobotNode(Node):\n    def __init__(self):\n        super().__init__('urdf_robot_node')\n        \n        # Initialize joint state publisher\n        self.joint_pub = self.create_publisher(JointState, 'joint_states', 10)\n        \n        # Initialize TF broadcaster\n        self.br = TransformBroadcaster(self)\n        \n        # Timer for publishing state\n        self.timer = self.create_timer(0.1, self.publish_joint_states)\n        \n        # Sample joint positions\n        self.joint_names = ['left_shoulder_joint', 'neck_joint']\n        self.joint_positions = [0.0, 0.0]\n    \n    def publish_joint_states(self):\n        # Create joint state message\n        msg = JointState()\n        msg.name = self.joint_names\n        msg.position = self.joint_positions\n        msg.header.stamp = self.get_clock().now().to_msg()\n        msg.header.frame_id = \"base_link\"\n        \n        self.joint_pub.publish(msg)\n"})}),"\n",(0,o.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(e.p,{children:"URDF is a critical component in modeling humanoid robots for ROS. Properly constructed URDF files enable accurate simulation, kinematic analysis, and motion planning. Understanding how to effectively describe complex human-like structures in URDF is essential for developing humanoid robots in ROS."}),"\n",(0,o.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Create a URDF file for a simplified humanoid with at least 6 degrees of freedom"}),"\n",(0,o.jsx)(e.li,{children:"Add transmission elements to your URDF for position control"}),"\n",(0,o.jsx)(e.li,{children:"Visualize your URDF using RViz"}),"\n",(0,o.jsx)(e.li,{children:"Simulate your humanoid in Gazebo"}),"\n"]})]})}function m(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>a});var o=i(6540);const s={},r=o.createContext(s);function t(n){const e=o.useContext(r);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),o.createElement(r.Provider,{value:e},n.children)}}}]);