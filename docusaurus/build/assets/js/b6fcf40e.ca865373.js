"use strict";(globalThis.webpackChunkai_textbook_docusaurus=globalThis.webpackChunkai_textbook_docusaurus||[]).push([[93],{4780:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=i(4848),o=i(8453);const s={sidebar_position:4,title:"URDF for Humanoid Robots"},t="URDF (Unified Robot Description Format) for Humanoids",a={id:"module-1-ros2/urdf-humanoids",title:"URDF for Humanoid Robots",description:"URDF (Unified Robot Description Format) is an XML format for representing a robot model. URDF is used extensively in ROS to describe robots in terms of their joints, links, visual and collision properties, and more. When designing humanoid robots, URDF plays a crucial role in specifying the physical structure and kinematic properties.",source:"@site/docs/module-1-ros2/urdf-humanoids.md",sourceDirName:"module-1-ros2",slug:"/module-1-ros2/urdf-humanoids",permalink:"/Physical-AI-Humanoid_Robotic-Text-Book/docs/module-1-ros2/urdf-humanoids",draft:!1,unlisted:!1,editUrl:"https://github.com/Abdullahkhan90/Physical-AI-Humanoid-Robotic-Text-Book/edit/main/docs/module-1-ros2/urdf-humanoids.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"URDF for Humanoid Robots"},sidebar:"tutorialSidebar",previous:{title:"Integrating Python Agents with ROS Controllers",permalink:"/Physical-AI-Humanoid_Robotic-Text-Book/docs/module-1-ros2/integrating-python-agents"},next:{title:"Summary and Exercises",permalink:"/Physical-AI-Humanoid_Robotic-Text-Book/docs/module-1-ros2/summary-exercises"}},l={},d=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"URDF Structure for Humanoid Robots",id:"urdf-structure-for-humanoid-robots",level:2},{value:"Basic URDF Elements",id:"basic-urdf-elements",level:3},{value:"Designing a Humanoid Robot in URDF",id:"designing-a-humanoid-robot-in-urdf",level:2},{value:"Basic Structure",id:"basic-structure",level:3},{value:"Example URDF for a Simple Humanoid",id:"example-urdf-for-a-simple-humanoid",level:3},{value:"Advanced URDF Features for Humanoids",id:"advanced-urdf-features-for-humanoids",level:2},{value:"Transmission Elements",id:"transmission-elements",level:3},{value:"Gazebo-Specific Elements",id:"gazebo-specific-elements",level:3},{value:"URDF Tools and Verification",id:"urdf-tools-and-verification",level:2},{value:"Using check_urdf",id:"using-check_urdf",level:3},{value:"Using urdf_to_graphiz",id:"using-urdf_to_graphiz",level:3},{value:"Best Practices for Humanoid URDF",id:"best-practices-for-humanoid-urdf",level:2},{value:"Creating URDF with Python",id:"creating-urdf-with-python",level:2},{value:"Integration with ROS",id:"integration-with-ros",level:2},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"urdf-unified-robot-description-format-for-humanoids",children:"URDF (Unified Robot Description Format) for Humanoids"}),"\n",(0,r.jsx)(e.p,{children:"URDF (Unified Robot Description Format) is an XML format for representing a robot model. URDF is used extensively in ROS to describe robots in terms of their joints, links, visual and collision properties, and more. When designing humanoid robots, URDF plays a crucial role in specifying the physical structure and kinematic properties."}),"\n",(0,r.jsx)(e.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,r.jsx)(e.p,{children:"URDF stands for Unified Robot Description Format. It is an XML file format used to describe robots in ROS. A URDF file contains information about:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Robot's physical structure (links)"}),"\n",(0,r.jsx)(e.li,{children:"How parts are connected (joints)"}),"\n",(0,r.jsx)(e.li,{children:"Visual appearance (collision and visual properties)"}),"\n",(0,r.jsx)(e.li,{children:"Kinematic properties (inertial properties)"}),"\n",(0,r.jsx)(e.li,{children:"Sensors attached to the robot"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"urdf-structure-for-humanoid-robots",children:"URDF Structure for Humanoid Robots"}),"\n",(0,r.jsx)(e.p,{children:"A humanoid robot URDF typically contains multiple limbs (arms, legs), a torso, and a head. Each limb is modeled as a series of links connected by joints."}),"\n",(0,r.jsx)(e.h3,{id:"basic-urdf-elements",children:"Basic URDF Elements"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid_robot">\r\n  \x3c!-- Links define the physical parts of the robot --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.1"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.1"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Joints define how links connect --\x3e\r\n  <joint name="joint1" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="link1"/>\r\n    <origin xyz="0.1 0 0" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="link1">\r\n    \x3c!-- Link definition similar to base_link --\x3e\r\n  </link>\r\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"designing-a-humanoid-robot-in-urdf",children:"Designing a Humanoid Robot in URDF"}),"\n",(0,r.jsx)(e.h3,{id:"basic-structure",children:"Basic Structure"}),"\n",(0,r.jsx)(e.p,{children:"A humanoid robot typically includes:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Torso / Pelvis (base link)"}),"\n",(0,r.jsx)(e.li,{children:"Two legs (hip, knee, ankle, foot)"}),"\n",(0,r.jsx)(e.li,{children:"Two arms (shoulder, elbow, wrist, hand)"}),"\n",(0,r.jsx)(e.li,{children:"Neck and head"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"example-urdf-for-a-simple-humanoid",children:"Example URDF for a Simple Humanoid"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_humanoid">\r\n  \x3c!-- Torso / Base Link --\x3e\r\n  <link name="torso">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.2 0.3 0.4"/>  \x3c!-- Width x Depth x Height --\x3e\r\n      </geometry>\r\n      <origin xyz="0 0 0.2"/>\r\n      <material name="gray">\r\n        <color rgba="0.5 0.5 0.5 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.2 0.3 0.4"/>\r\n      </geometry>\r\n      <origin xyz="0 0 0.2"/>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="5"/>\r\n      <inertia ixx="0.3" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <link name="head">\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n      <material name="skin">\r\n        <color rgba="0.8 0.6 0.4 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1"/>\r\n      <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.02"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Joint connecting torso and head --\x3e\r\n  <joint name="neck_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.4"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-0.5" upper="0.5" effort="1" velocity="2"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Arm --\x3e\r\n  <link name="left_shoulder">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.1 0.15 0.15"/>\r\n      </geometry>\r\n      <material name="gray"/>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.1 0.15 0.15"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Joint connecting torso and shoulder --\x3e\r\n  <joint name="left_shoulder_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_shoulder"/>\r\n    <origin xyz="0.15 0.1 0.2"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-1.57" upper="1.57" effort="5" velocity="3"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right arm, legs, and other body parts would follow similar pattern --\x3e\r\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"advanced-urdf-features-for-humanoids",children:"Advanced URDF Features for Humanoids"}),"\n",(0,r.jsx)(e.h3,{id:"transmission-elements",children:"Transmission Elements"}),"\n",(0,r.jsx)(e.p,{children:"To connect the robot to a control system, transmission elements are added:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<transmission name="left_shoulder_trans">\r\n  <type>transmission_interface/SimpleTransmission</type>\r\n  <joint name="left_shoulder_joint">\r\n    <hardwareInterface>PositionJointInterface</hardwareInterface>\r\n  </joint>\r\n  <actuator name="left_shoulder_motor">\r\n    <hardwareInterface>PositionJointInterface</hardwareInterface>\r\n    <mechanicalReduction>1</mechanicalReduction>\r\n  </actuator>\r\n</transmission>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"gazebo-specific-elements",children:"Gazebo-Specific Elements"}),"\n",(0,r.jsx)(e.p,{children:"For simulation in Gazebo, additional elements are often needed:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<gazebo reference="torso">\r\n  <material>Gazebo/Gray</material>\r\n  <mu1>0.2</mu1>\r\n  <mu2>0.2</mu2>\r\n</gazebo>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"urdf-tools-and-verification",children:"URDF Tools and Verification"}),"\n",(0,r.jsx)(e.h3,{id:"using-check_urdf",children:"Using check_urdf"}),"\n",(0,r.jsx)(e.p,{children:"After creating a URDF file, verify its validity:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"check_urdf path/to/robot.urdf\n"})}),"\n",(0,r.jsx)(e.h3,{id:"using-urdf_to_graphiz",children:"Using urdf_to_graphiz"}),"\n",(0,r.jsx)(e.p,{children:"Visualize the robot structure:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"urdf_to_graphviz path/to/robot.urdf\n"})}),"\n",(0,r.jsx)(e.h2,{id:"best-practices-for-humanoid-urdf",children:"Best Practices for Humanoid URDF"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Use proper units"}),": All dimensions in meters, mass in kilograms"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Realistic inertial properties"}),": Accurate mass and inertia values improve simulation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Joint limits"}),": Define appropriate limits for each joint"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Collision vs. Visual"}),": Use simple shapes for collision and detailed for visuals"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Naming convention"}),": Use consistent naming across all links and joints"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Kinematic chain"}),": Ensure proper parent-child relationships"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Mounting points"}),": Define attachment points for accessories"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"creating-urdf-with-python",children:"Creating URDF with Python"}),"\n",(0,r.jsx)(e.p,{children:"While URDF is an XML format, it can be programmatically generated using Python:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'import xml.etree.ElementTree as ET\r\n\r\ndef create_simple_link(name, mass, geometry_type="box", size=[0.1, 0.1, 0.1]):\r\n    link = ET.Element("link", name=name)\r\n    \r\n    # Visual element\r\n    visual = ET.SubElement(link, "visual")\r\n    vis_geom = ET.SubElement(visual, "geometry")\r\n    ET.SubElement(vis_geom, geometry_type, size=" ".join(map(str, size)))\r\n    \r\n    # Collision element\r\n    collision = ET.SubElement(link, "collision")\r\n    coll_geom = ET.SubElement(collision, "geometry")\r\n    ET.SubElement(coll_geom, geometry_type, size=" ".join(map(str, size)))\r\n    \r\n    # Inertial element\r\n    inertial = ET.SubElement(link, "inertial")\r\n    ET.SubElement(inertial, "mass", value=str(mass))\r\n    ET.SubElement(inertial, "inertia", \r\n                  ixx="0.01", ixy="0", ixz="0", \r\n                  iyy="0.01", iyz="0", izz="0.01")\r\n    \r\n    return link\r\n\r\n# Example usage\r\nrobot = ET.Element("robot", name="humanoid")\r\ntorso = create_simple_link("torso", 5.0, "box", [0.2, 0.3, 0.4])\r\nrobot.append(torso)\n'})}),"\n",(0,r.jsx)(e.h2,{id:"integration-with-ros",children:"Integration with ROS"}),"\n",(0,r.jsx)(e.p,{children:"Once the URDF is created, it can be used in ROS nodes:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nfrom tf2_ros import TransformBroadcaster\r\nimport math\r\n\r\nclass URDFRobotNode(Node):\r\n    def __init__(self):\r\n        super().__init__('urdf_robot_node')\r\n        \r\n        # Initialize joint state publisher\r\n        self.joint_pub = self.create_publisher(JointState, 'joint_states', 10)\r\n        \r\n        # Initialize TF broadcaster\r\n        self.br = TransformBroadcaster(self)\r\n        \r\n        # Timer for publishing state\r\n        self.timer = self.create_timer(0.1, self.publish_joint_states)\r\n        \r\n        # Sample joint positions\r\n        self.joint_names = ['left_shoulder_joint', 'neck_joint']\r\n        self.joint_positions = [0.0, 0.0]\r\n    \r\n    def publish_joint_states(self):\r\n        # Create joint state message\r\n        msg = JointState()\r\n        msg.name = self.joint_names\r\n        msg.position = self.joint_positions\r\n        msg.header.stamp = self.get_clock().now().to_msg()\r\n        msg.header.frame_id = \"base_link\"\r\n        \r\n        self.joint_pub.publish(msg)\n"})}),"\n",(0,r.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(e.p,{children:"URDF is a critical component in modeling humanoid robots for ROS. Properly constructed URDF files enable accurate simulation, kinematic analysis, and motion planning. Understanding how to effectively describe complex human-like structures in URDF is essential for developing humanoid robots in ROS."}),"\n",(0,r.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Create a URDF file for a simplified humanoid with at least 6 degrees of freedom"}),"\n",(0,r.jsx)(e.li,{children:"Add transmission elements to your URDF for position control"}),"\n",(0,r.jsx)(e.li,{children:"Visualize your URDF using RViz"}),"\n",(0,r.jsx)(e.li,{children:"Simulate your humanoid in Gazebo"}),"\n"]})]})}function m(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>a});var r=i(6540);const o={},s=r.createContext(o);function t(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);